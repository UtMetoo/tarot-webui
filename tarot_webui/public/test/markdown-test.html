<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdownæ¸²æŸ“æµ‹è¯• - å¡”ç½—ç‰Œå åœ</title>
    <link rel="stylesheet" href="../styles.css">
    <style>
        .test-container {
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
        }
        
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background: #fafbfc;
        }
        
        .test-title {
            color: var(--brand-color);
            margin-bottom: 15px;
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .raw-markdown {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            font-family: monospace;
            font-size: 14px;
            white-space: pre-wrap;
            margin-bottom: 20px;
            border-left: 4px solid var(--brand-color);
        }
        
        .rendered-result {
            background: white;
            padding: 15px;
            border-radius: 6px;
            border: 1px solid #e9ecf2;
        }
        
        .test-button {
            background: var(--brand-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            margin: 10px 5px;
        }
        
        .test-button:hover {
            background: #5a6fd8;
        }

        /* Markdownå†…å®¹æ ·å¼ - ä¸ä¸»åº”ç”¨ä¿æŒä¸€è‡´ */
        .markdown-content {
            white-space: normal;
            line-height: 1.6;
        }

        .markdown-content h1 {
            font-size: 1.8rem;
            color: var(--brand-color);
            margin: 20px 0 12px 0;
            border-bottom: 2px solid var(--brand-color);
            padding-bottom: 8px;
        }

        .markdown-content h2 {
            font-size: 1.5rem;
            color: var(--brand-color);
            margin: 18px 0 10px 0;
            border-bottom: 1px solid #e0e0e0;
            padding-bottom: 6px;
        }

        .markdown-content h3 {
            font-size: 1.3rem;
            color: #2b2f36;
            margin: 16px 0 8px 0;
            font-weight: 600;
        }

        .markdown-content strong {
            color: var(--brand-color);
            font-weight: 600;
        }

        .markdown-content em {
            color: #666;
            font-style: italic;
        }

        .markdown-content ul {
            margin: 6px 0;
            padding-left: 24px;
            list-style-type: disc;
        }

        .markdown-content ol {
            margin: 6px 0;
            padding-left: 24px;
            list-style-type: decimal;
        }

        .markdown-content li {
            margin: 2px 0;
            line-height: 1.5;
        }

        .markdown-content a {
            color: var(--brand-color);
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: border-color 0.3s ease;
        }

        .markdown-content a:hover {
            border-bottom-color: var(--brand-color);
        }

        .markdown-content code {
            background: #f5f7fa;
            color: #e74c3c;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9em;
        }

        /* ä¼˜åŒ–æ®µè½é—´è· */
        .markdown-content p {
            margin: 6px 0;
            line-height: 1.6;
        }

        /* ä¼˜åŒ–æ®µè½ä¹‹é—´çš„é—´è· */
        .markdown-content p + p {
            margin-top: 8px;
        }

        /* ä¼˜åŒ–æ ‡é¢˜ä¸æ®µè½ä¹‹é—´çš„é—´è· */
        .markdown-content h1 + p,
        .markdown-content h2 + p,
        .markdown-content h3 + p {
            margin-top: 8px;
        }

        /* ä¼˜åŒ–åˆ—è¡¨ä¸æ®µè½ä¹‹é—´çš„é—´è· */
        .markdown-content p + ul,
        .markdown-content p + ol {
            margin-top: 6px;
        }

        .markdown-content ul + p,
        .markdown-content ol + p {
            margin-top: 8px;
        }

        /* ä¼˜åŒ–ç²—ä½“æ–‡æœ¬ä¸åç»­æ®µè½ä¹‹é—´çš„é—´è· */
        .markdown-content strong + p {
            margin-top: 4px;
        }

        /* ä¼˜åŒ–æ®µè½ä¸­ç²—ä½“æ–‡æœ¬åçš„é—´è· */
        .markdown-content p strong {
            display: inline-block;
            margin-bottom: 2px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>Markdownæ¸²æŸ“æµ‹è¯•é¡µé¢</h1>
        <p>æ­¤é¡µé¢ç”¨äºæµ‹è¯•å¡”ç½—ç‰Œè§£è¯»ä¸­çš„Markdownæ ¼å¼æ¸²æŸ“åŠŸèƒ½ã€‚</p>
        
        <div class="test-section">
            <div class="test-title">æµ‹è¯•1ï¼šåŸºæœ¬æ ¼å¼</div>
            <div class="raw-markdown" id="test1-raw"># å¡”ç½—ç‰Œè§£è¯»

## å¡ç‰‡åˆ†æ

### æ˜Ÿå¸ä¸ƒ - æ­£ä½

è¿™å¼ å¡ç‰‡è¡¨ç¤º **è€å¿ƒ** å’Œ *åšæŒ*ã€‚ä½ æ­£åœ¨ä¸ºæœªæ¥çš„æ”¶è·è€ŒåŠªåŠ›å·¥ä½œã€‚

- å…³é”®è¯ï¼šè€å¿ƒã€æŠ•èµ„ã€é•¿æœŸè§„åˆ’
- å»ºè®®ï¼šç»§ç»­åšæŒä½ çš„åŠªåŠ›
- æ³¨æ„ï¼šä¸è¦æ€¥äºæ±‚æˆ

### å®å‰‘ä¸‰ - é€†ä½

ä»£è¡¨ç€æƒ…æ„Ÿä¸Šçš„ **æ²»æ„ˆ** å’Œ *é‡Šæ”¾*ã€‚

1. å­¦ä¼šåŸè°…è‡ªå·±
2. æ”¾ä¸‹è¿‡å»çš„ç—›è‹¦
3. å¯»æ±‚å†…å¿ƒçš„å¹³é™

## æ€»ç»“

é€šè¿‡è¿™æ¬¡å åœï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä½ æ­£å¤„åœ¨ä¸€ä¸ª `è½¬å˜` çš„å…³é”®æ—¶æœŸã€‚

[äº†è§£æ›´å¤š](https://example.com) å…³äºå¡”ç½—ç‰Œçš„å«ä¹‰ã€‚</div>
            <div class="rendered-result" id="test1-result"></div>
            <button class="test-button" onclick="testMarkdown('test1')">æ¸²æŸ“æµ‹è¯•1</button>
        </div>
        
        <div class="test-section">
            <div class="test-title">æµ‹è¯•2ï¼šå¤æ‚åˆ—è¡¨</div>
            <div class="raw-markdown" id="test2-raw">## ä¸‰å¼ å¡ç‰‡çš„è¯¦ç»†è§£è¯»

### 1. è¿‡å» - æ˜Ÿå¸ä¸ƒ

**æ­£ä½å«ä¹‰ï¼š**
- æŠ•èµ„å’Œå‚¨è“„
- é•¿æœŸè§„åˆ’çš„æ™ºæ…§
- å¯¹æœªæ¥çš„ä¿¡å¿ƒ

**åœ¨ä½ çš„æƒ…å†µä¸‹ï¼š**
ä½ åœ¨è¿‡å»åšå‡ºäº†æ˜æ™ºçš„é€‰æ‹©ï¼Œè¿™äº›é€‰æ‹©ç°åœ¨å¼€å§‹æ˜¾ç°å‡ºä»·å€¼ã€‚

### 2. ç°åœ¨ - å®å‰‘ä¸‰

**é€†ä½å«ä¹‰ï¼š**
- æƒ…æ„Ÿæ²»æ„ˆ
- èµ°å‡ºé˜´éœ¾
- å†…å¿ƒçš„æˆé•¿

**å½“å‰çŠ¶æ€ï¼š**
ä½ æ­£åœ¨ç»å†ä¸€ä¸ªæ²»æ„ˆçš„è¿‡ç¨‹ï¼Œè™½ç„¶ä»æœ‰æŒ‘æˆ˜ï¼Œä½†ä½ å·²ç»å¼€å§‹çœ‹åˆ°å¸Œæœ›çš„æ›™å…‰ã€‚

### 3. æœªæ¥ - å¡”

**æ­£ä½å«ä¹‰ï¼š**
- çªç„¶çš„å˜åŒ–
- æ—§ç»“æ„çš„å´©å¡Œ
- æ–°å¼€å§‹çš„æœºä¼š

**æœªæ¥å±•æœ›ï¼š**
å³å°†åˆ°æ¥çš„å˜åŒ–è™½ç„¶å¯èƒ½ä»¤äººä¸å®‰ï¼Œä½†å®ƒä»¬å°†ä¸ºä½ å¸¦æ¥å…¨æ–°çš„æœºé‡å’Œæˆé•¿ã€‚

## ç»¼åˆå»ºè®®

1. **ä¿æŒè€å¿ƒ** - ä½ çš„åŠªåŠ›å°†ä¼šå¾—åˆ°å›æŠ¥
2. **æ‹¥æŠ±å˜åŒ–** - ä¸è¦å®³æ€•å³å°†åˆ°æ¥çš„è½¬å˜
3. **ç›¸ä¿¡è‡ªå·±** - ä½ æœ‰èƒ½åŠ›åº”å¯¹ä»»ä½•æŒ‘æˆ˜

è®°ä½ï¼š*æ¯ä¸€æ¬¡ç»“æŸéƒ½æ˜¯æ–°å¼€å§‹çš„èµ·ç‚¹*ã€‚</div>
            <div class="rendered-result" id="test2-result"></div>
            <button class="test-button" onclick="testMarkdown('test2')">æ¸²æŸ“æµ‹è¯•2</button>
        </div>
        
        <div class="test-section">
            <div class="test-title">æµ‹è¯•3ï¼šç®€å•æ–‡æœ¬</div>
            <div class="raw-markdown" id="test3-raw">æ ¹æ®ä½ æä¾›çš„ä¿¡æ¯å’ŒæŠ½åˆ°çš„ä¸‰å¼ å¡”ç½—ç‰Œï¼Œæˆ‘ä¸ºä½ è¿›è¡Œä»¥ä¸‹è§£è¯»ï¼š

ä½ æ­£å¤„åœ¨äººç”Ÿçš„ä¸€ä¸ªé‡è¦è½¬æŠ˜ç‚¹ã€‚è¿‡å»çš„åŠªåŠ›å’ŒæŠ•èµ„å¼€å§‹æ˜¾ç°æˆæœï¼Œä½†åŒæ—¶ä½ ä¹Ÿéœ€è¦é¢å¯¹ä¸€äº›æƒ…æ„Ÿä¸Šçš„æŒ‘æˆ˜ã€‚

æœªæ¥ä¼šæœ‰é‡å¤§çš„å˜åŒ–ç­‰å¾…ç€ä½ ï¼Œè™½ç„¶è¿™äº›å˜åŒ–å¯èƒ½å¸¦æ¥ä¸ç¡®å®šæ€§ï¼Œä½†å®ƒä»¬ä¹Ÿæ˜¯æˆé•¿å’Œæ–°æœºé‡çš„è±¡å¾ã€‚

ä¿æŒå¼€æ”¾çš„å¿ƒæ€ï¼Œç›¸ä¿¡è‡ªå·±çš„ç›´è§‰ï¼Œä½ å°†èƒ½å¤ŸæˆåŠŸåº¦è¿‡è¿™ä¸ªè½¬å˜æœŸã€‚</div>
            <div class="rendered-result" id="test3-result"></div>
            <button class="test-button" onclick="testMarkdown('test3')">æ¸²æŸ“æµ‹è¯•3</button>
        </div>
        
        <div class="test-section">
            <div class="test-title">æµ‹è¯•4ï¼šMermaidå›¾è¡¨</div>
            <div class="raw-markdown" id="test4-raw"># é¡¹ç›®æ—¶é—´çº¿

## å©šç¤¼ç­¹å¤‡è®¡åˆ’

```mermaid
timeline
2024 Q4 : ç¡®å®šé¢„ç®—æ¡†æ¶
2025 Q1 : å®Œæˆé‡è¦ä¾›åº”å•†é¢„å®š
2025 Q2 : å‘é€è¯·æŸ¬
2025 Q3 : å©šç¤¼ä¸¾è¡Œ
```

è¿™ä¸ªæ—¶é—´çº¿å±•ç¤ºäº†æ•´ä¸ªç­¹å¤‡è¿‡ç¨‹çš„å…³é”®èŠ‚ç‚¹ã€‚</div>
            <div class="rendered-result" id="test4-result"></div>
            <button class="test-button" onclick="testMarkdown('test4')">æ¸²æŸ“æµ‹è¯•4</button>
        </div>
        
        <div class="test-section">
            <div class="test-title">æµ‹è¯•5ï¼šæœ‰åºåˆ—è¡¨ä¿®å¤éªŒè¯ï¼ˆåŸå§‹é—®é¢˜ï¼‰</div>
            <div class="raw-markdown" id="test5-raw">### ğŸ”® å¡”ç½—ç‰Œè§£è¯»

1. **é€†ä½å®å‰‘éª‘å£«**
   é€†ä½çš„å®å‰‘éª‘å£«é€šå¸¸è¡¨ç¤ºå†²åŠ¨å’Œç¼ºä¹è€å¿ƒã€‚åœ¨å©šå§»çš„èƒŒæ™¯ä¸‹ï¼Œè¿™å¼ ç‰Œæé†’ä½ ï¼Œæœªæ¥çš„å©šå§»ç”Ÿæ´»ä¸­å¯èƒ½ä¼šæœ‰ä¸€äº›æ²Ÿé€šä¸Šçš„æŒ‘æˆ˜ã€‚ä½ éœ€è¦æ›´åŠ å†·é™å’Œç†æ€§åœ°å¤„ç†é—®é¢˜ï¼Œé¿å…è®©æƒ…ç»ªä¸»å¯¼ä½ çš„è¡Œä¸ºã€‚

2. **æ­£ä½æƒæ–ä¸‰**
   æ­£ä½çš„æƒæ–ä¸‰è±¡å¾ç€å±•æœ›å’Œè®¡åˆ’ã€‚è¿™å¼ ç‰Œæš—ç¤ºä½ åœ¨å©šå§»çš„å‡†å¤‡è¿‡ç¨‹ä¸­ï¼Œéœ€è¦æ›´å¤šçš„è§„åˆ’å’Œè¿œè§ã€‚å®ƒé¼“åŠ±ä½ ä¸ä¼´ä¾£å…±åŒåˆ¶å®šæœªæ¥çš„è®¡åˆ’ï¼Œå¹¶ç¡®ä¿ä½ ä»¬çš„ç›®æ ‡ä¸€è‡´ã€‚è¿™å¼ ç‰Œæ˜¯ä¸€ä¸ªç§¯æçš„ä¿¡å·ï¼Œè¡¨æ˜ä½ ä»¬çš„å©šå§»æœ‰åšå®çš„åŸºç¡€ã€‚

3. **é€†ä½é­”æœ¯å¸ˆ**
   é€†ä½çš„é­”æœ¯å¸ˆå¯èƒ½è¡¨ç¤ºç¼ºä¹è‡ªä¿¡æˆ–èµ„æºä¸è¶³ã€‚åœ¨å©šå§»çš„èƒŒæ™¯ä¸‹ï¼Œè¿™å¼ ç‰Œæé†’ä½ ï¼Œæœªæ¥çš„å©šå§»ç”Ÿæ´»ä¸­å¯èƒ½ä¼šé‡åˆ°ä¸€äº›æ„æƒ³ä¸åˆ°çš„æŒ‘æˆ˜ã€‚ä½ éœ€è¦æ›´åŠ çµæ´»å’Œé€‚åº”æ€§å¼ºï¼Œæ‰¾åˆ°è§£å†³é—®é¢˜çš„æ–°æ–¹æ³•ã€‚</div>
            <div class="rendered-result" id="test5-result"></div>
            <button class="test-button" onclick="testMarkdown('test5')">æ¸²æŸ“æµ‹è¯•5</button>
        </div>
        
        <div class="test-section">
            <div class="test-title">æµ‹è¯•6ï¼šåŸºæœ¬æœ‰åºåˆ—è¡¨</div>
            <div class="raw-markdown" id="test6-raw">1. **é€†ä½å®å‰‘éª‘å£«**
2. **æ­£ä½æƒæ–ä¸‰**
3. **é€†ä½é­”æœ¯å¸ˆ**</div>
            <div class="rendered-result" id="test6-result"></div>
            <button class="test-button" onclick="testMarkdown('test6')">æ¸²æŸ“æµ‹è¯•6</button>
        </div>
        
        <div class="test-section">
            <div class="test-title">æµ‹è¯•7ï¼šæ··åˆå†…å®¹ï¼ˆæ ‡é¢˜+æœ‰åºåˆ—è¡¨+æ®µè½ï¼‰</div>
            <div class="raw-markdown" id="test7-raw">### ğŸ”® å¡”ç½—ç‰Œè§£è¯»

1. **é€†ä½å®å‰‘éª‘å£«**
2. **æ­£ä½æƒæ–ä¸‰**
3. **é€†ä½é­”æœ¯å¸ˆ**

è¿™æ˜¯åˆ—è¡¨åçš„æ®µè½å†…å®¹ã€‚</div>
            <div class="rendered-result" id="test7-result"></div>
            <button class="test-button" onclick="testMarkdown('test7')">æ¸²æŸ“æµ‹è¯•7</button>
        </div>
        
        <button class="test-button" onclick="testAllMarkdown()">æ¸²æŸ“æ‰€æœ‰æµ‹è¯•</button>
    </div>

    <!-- æ·»åŠ Mermaid.jsæ”¯æŒ -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <script>
        // åˆå§‹åŒ–Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default'
        });
    </script>

    <script src="../js/cities.js"></script>
    <script src="../js/markdown-renderer.js"></script>
    <script src="../js/ui-utils.js"></script>
    <script src="../js/tarot-app.js"></script>
    <script>
        function testMarkdown(testId) {
            const rawElement = document.getElementById(`${testId}-raw`);
            const resultElement = document.getElementById(`${testId}-result`);
            
            if (rawElement && resultElement) {
                const rawText = rawElement.textContent;
                // ä½¿ç”¨æ–°çš„MarkdownRendereré™æ€æ–¹æ³•
                const renderedHtml = MarkdownRenderer.render(rawText);
                resultElement.innerHTML = `<div class="markdown-content">${renderedHtml}</div>`;
                
                // é‡æ–°æ¸²æŸ“Mermaidå›¾è¡¨
                if (typeof mermaid !== 'undefined') {
                    mermaid.init();
                }
            }
        }
        
        function testAllMarkdown() {
            testMarkdown('test1');
            testMarkdown('test2');
            testMarkdown('test3');
            testMarkdown('test4');
            testMarkdown('test5');
            testMarkdown('test6');
            testMarkdown('test7');
        }
        
        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æ¸²æŸ“æ‰€æœ‰æµ‹è¯•
        document.addEventListener('DOMContentLoaded', () => {
            // æ£€æŸ¥MarkdownRendereræ˜¯å¦å·²åŠ è½½
            if (typeof MarkdownRenderer !== 'undefined') {
                setTimeout(testAllMarkdown, 500);
            } else {
                console.error('MarkdownRenderer æ¨¡å—æœªåŠ è½½');
                document.body.innerHTML += '<div style="color: red; padding: 20px;">é”™è¯¯ï¼šMarkdownRenderer æ¨¡å—æœªåŠ è½½</div>';
            }
        });
    </script>
</body>
</html>